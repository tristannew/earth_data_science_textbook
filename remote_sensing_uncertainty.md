::: {#MathJax_Message style="display: none;"}
:::

::: search
:::

::: masthead
::: masthead__inner-wrap
::: masthead__menu
::: navicon
:::

-   [![Earth Lab - Earth Data
    Science](./Compare%20Lidar%20With%20Human%20Measured%20Tree%20Heights%20-%20Remote%20Sensing%20Uncertainty%20_%20Earth%20Data%20Science%20-%20Earth%20Lab_files/earth-lab-logo.png){style="height:80%;width:85%"}](https://www.earthdatascience.org/)
-   [Tutorials](https://www.earthdatascience.org/tutorials/)
-   [Courses](https://www.earthdatascience.org/courses/)
-   [Workshops](https://www.earthdatascience.org/workshops/)
-   [Tools](https://www.earthdatascience.org/tools/)
-   [Blog](https://www.earthdatascience.org/blog/)
-   [About](https://www.earthdatascience.org/about/)

```{=html}
<!-- -->
```
:::
:::
:::

::: {.page__hero--overlay style=" background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://www.earthdatascience.org/images/header-images/earth-data-analytics-professional-certificate-banner.jpg');"}
::: wrapper
# Earth Data Analytics Online Certificate {#earth-data-analytics-online-certificate .page__title itemprop="headline"}

[Enroll now! Learn
more.](https://earthlab.colorado.edu/earth-data-analytics-professional-graduate-certificate?utm_source=earthdatascience&utm_medium=website&utm_campaign=certificate-2022&utm_id=certificate-2022){.btn
.btn--light-outline .btn--large target="_blank"}
:::
:::

1.  [[Home]{itemprop="name"}](https://www.earthdatascience.org/){itemprop="item"}
2.  [Courses](https://www.earthdatascience.org/courses/)
    [/]{.sep}
3.  [Use data open source
    python](https://www.earthdatascience.org/courses/use-data-open-source-python/)
    [/]{.sep}
4.  [Spatial data
    applications](https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/)
    [/]{.sep}
5.  Compare Lidar With Human Measured Tree Heights - Remote Sensing
    Uncertainty

::: {#main role="main"}
::: {.sidebar .sticky}
##### [ Intermediate earth data science textbook](https://www.earthdatascience.org/courses/intermediate-earth-data-science-textbook/)

[ Units]{.nav__sub-title}

**SECTION 1 [TIME SERIES DATA IN
PYTHON](https://www.earthdatascience.org/courses/use-data-open-source-python/use-time-series-data-in-python/)**

-   [Chapter 1: Time Series Data in
    Pandas](https://www.earthdatascience.org/courses/use-data-open-source-python/use-time-series-data-in-python/introduction-to-time-series-in-pandas-python/)
-   [Chapter 1.5: Flood Returns Period Analysis in
    Python](https://www.earthdatascience.org/courses/use-data-open-source-python/use-time-series-data-in-python/floods-return-period-and-probability/)

**SECTION 2 [INTRO TO SPATIAL VECTOR DATA IN
PYTHON](https://www.earthdatascience.org/courses/use-data-open-source-python/intro-vector-data-python/)**

-   [Chapter 2: Spatial Data in
    Python](https://www.earthdatascience.org/courses/use-data-open-source-python/intro-vector-data-python/spatial-data-vector-shapefiles/)
-   [Chapter 3: Processing Spatial Vector Data in
    Python](https://www.earthdatascience.org/courses/use-data-open-source-python/intro-vector-data-python/vector-data-processing/)

**SECTION 3 [INTRODUCTION TO RASTER DATA IN
PYTHON](https://www.earthdatascience.org/courses/use-data-open-source-python/intro-raster-data-python/)**

-   [Chapter 4: Intro to Raster Data in
    Python](https://www.earthdatascience.org/courses/use-data-open-source-python/intro-raster-data-python/fundamentals-raster-data/)
-   [Chapter 5: Processing Raster Data in
    Python](https://www.earthdatascience.org/courses/use-data-open-source-python/intro-raster-data-python/raster-data-processing/)

[ 4. SPATIAL DATA APPLICATIONS IN
PYTHON](https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/)

::: active-menu
-   [ Chapter 6 Uncertainty in remote sensing data ]{.nav__sub-title
    .grey}
    -   [- Remote Sensing
        Uncertainty](https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/){.active}
    -   [- Extract Data From
        Raster](https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/extract-data-from-raster/)
    -   [- Compare Lidar to Measured Tree
        Height](https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/summarize-and-compare-lidar-insitu-tree-height/)
    -   [- Regression to Compare
        Variables](https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/compare-lidar-and-measured-tree-height-regression/)

```{=html}
<!-- -->
```
:::

**SECTION 5 [MULTISPECTRAL REMOTE SENSING DATA IN
PYTHON](https://www.earthdatascience.org/courses/use-data-open-source-python/multispectral-remote-sensing/)**

-   [Chapter 7: Intro to Multispectral Remote Sensing
    Data](https://www.earthdatascience.org/courses/use-data-open-source-python/multispectral-remote-sensing/intro-multispectral-data/)
-   [Chapter 8:
    NAIP](https://www.earthdatascience.org/courses/use-data-open-source-python/multispectral-remote-sensing/intro-naip/)
-   [Chapter 9: Landsat
    Data](https://www.earthdatascience.org/courses/use-data-open-source-python/multispectral-remote-sensing/landsat-in-Python/)
-   [Chapter 10: MODIS
    Data](https://www.earthdatascience.org/courses/use-data-open-source-python/multispectral-remote-sensing/modis-data-in-python/)
-   [Chapter 11: Calculate Vegetation Indices in
    Python](https://www.earthdatascience.org/courses/use-data-open-source-python/multispectral-remote-sensing/vegetation-indices-in-python/)

**SECTION 6 [INTRODUCTION TO HIERARCHICAL DATA FORMATS IN
PYTHON](https://www.earthdatascience.org/courses/use-data-open-source-python/hierarchical-data-formats-hdf/)**

-   [Chapter 12:
    HDF4](https://www.earthdatascience.org/courses/use-data-open-source-python/hierarchical-data-formats-hdf/intro-to-hdf4/)
-   [Chapter 13:
    NETCDF](https://www.earthdatascience.org/courses/use-data-open-source-python/hierarchical-data-formats-hdf/intro-to-climate-data/)

**SECTION 7 [INTRODUCTION TO API DATA ACCESS IN OPEN SOURCE
PYTHON](https://www.earthdatascience.org/courses/use-data-open-source-python/intro-to-apis/)**

-   [Chapter 15:
    APIs](https://www.earthdatascience.org/courses/use-data-open-source-python/intro-to-apis/apis-in-python/)
-   [Chapter 16: Twitter
    Data](https://www.earthdatascience.org/courses/use-data-open-source-python/intro-to-apis/social-media-text-mining-python/)

**SECTION 8 [EARTH DATA SCIENCE
WORKFLOWS](https://www.earthdatascience.org/courses/use-data-open-source-python/earth-data-science-workflows/)**

-   [Chapter 12: Design and Automate Data
    Workflows](https://www.earthdatascience.org/courses/use-data-open-source-python/earth-data-science-workflows/design-efficient-automated-data-workflows/)

**SECTION 9 [DATA
STORIES](https://www.earthdatascience.org/courses/use-data-open-source-python/data-stories/)**

-   [Chapter 20: Flood
    overview](https://www.earthdatascience.org/courses/use-data-open-source-python/data-stories/colorado-floods-2013/)
-   [Chapter 21: Intro to Lidar
    Data](https://www.earthdatascience.org/courses/use-data-open-source-python/data-stories/what-is-lidar-data/)
-   [Chapter 22: Wildfire
    Overview](https://www.earthdatascience.org/courses/use-data-open-source-python/data-stories/cold-springs-wildfire/)

```{=html}
<!-- -->
```
-   [ Overview]{.nav__sub-title}
    -   [Use Data for Earth and Environmental Science in Open Source
        Python
        Home](https://www.earthdatascience.org/courses/use-data-open-source-python/)

##### [ intermediate-earth-data-science-textbook Home](https://www.earthdatascience.org/courses/intermediate-earth-data-science-textbook/)
:::

::: page__inner-wrap
<div>

# Lesson 1. Compare Lidar With Human Measured Tree Heights - Remote Sensing Uncertainty {#lesson-1.-compare-lidar-with-human-measured-tree-heights---remote-sensing-uncertainty .page__title itemprop="headline"}

::: page__meta
[Leah Wasser](https://www.earthdatascience.org/authors/leah-wasser),
[Chris
Holdgraf](https://www.earthdatascience.org/authors/chris-holdgraf),
[Nathan
Korinek](https://www.earthdatascience.org/authors/nathan-korinek)
:::

\

::: {.notice--warning .header markdown="1"}
#  Lidar Compared to Human Measurements: Uncertainty and Remote Sensing Data - Intermediate earth data science textbook course module

Welcome to the first lesson in the **Lidar Compared to Human
Measurements: Uncertainty and Remote Sensing Data** module. Uncertainty
quantifies the range of values within which the value of the measurement
falls - within a specified level of confidence. Learn about the concept
of uncertainty as it relates to both remote sensing and other spatial
data.
:::

</div>

::: {.section .page__content itemprop="text"}
<div>

####  In This Chapter {#in-this-chapter .nav__title}

</div>

-   [ Chapter Six - Uncertainty in Remote Sensing
    Data](https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/#chapter-six---uncertainty-in-remote-sensing-data){#markdown-toc-chapter-six---uncertainty-in-remote-sensing-data}
-   [ Learning
    Objectives](https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/#learning-objectives){#markdown-toc-learning-objectives}
-   [ What You
    Need](https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/#what-you-need){#markdown-toc-what-you-need}
-   [Understand Uncertainty and
    Error](https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/#understand-uncertainty-and-error){#markdown-toc-understand-uncertainty-and-error}
-   [Uncertainty](https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/#uncertainty){#markdown-toc-uncertainty}
-   [What is the True
    Value?](https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/#what-is-the-true-value){#markdown-toc-what-is-the-true-value}
-   [Measurement
    Accuracy](https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/#measurement-accuracy){#markdown-toc-measurement-accuracy}
-   [Systematic vs random
    error](https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/#systematic-vs-random-error){#markdown-toc-systematic-vs-random-error}
-   [Use Lidar to Estimate Tree
    Height](https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/#use-lidar-to-estimate-tree-height){#markdown-toc-use-lidar-to-estimate-tree-height}
-   [Study Site
    Location](https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/#study-site-location){#markdown-toc-study-site-location}
-   [Study Area
    Plots](https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/#study-area-plots){#markdown-toc-study-area-plots}
-   [View interactive
    scatterplot](https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/#view-interactive-scatterplot){#markdown-toc-view-interactive-scatterplot}
-   [View interactive difference
    barplot](https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/#view-interactive-difference-barplot){#markdown-toc-view-interactive-difference-barplot}

::: notice--success
##  Chapter Six - Uncertainty in Remote Sensing Data

In this chapter, you will integrate vector and raster data using
**Python** to explore uncertainty in scientific analyses.

##  Learning Objectives

After completing this chapter, you will be able to:

-   List and describe at least 3 sources of uncertainty / error
    associated with remote sensing data.
-   Interpret a scatter plot that compares remote sensing values with
    field measured values to determine how "well" the two metrics
    compare.
-   Use the `rasterstats.zonal_stats()`{.language-plaintext
    .highlighter-rouge} function to extract raster pixel values using a
    vector extent or set of extents.
-   Create a scatter plot with a one to one line in **Python** using
    **matplotlib**.
-   Merge two dataframes in **Python**.
-   Perform a basic least squares linear regression analysis on two
    variables of interest in **Python**.
-   Analyze regression outputs to determine the strength of the
    relatonship between two variables.
-   Define `R-squared`{.language-plaintext .highlighter-rouge} and
    `p-value`{.language-plaintext .highlighter-rouge} as it relates to
    regression.

##  What You Need

You will need a computer with internet access to complete this lesson.
You will also need the data you downloaded for last week of this class:
`spatial-vector-lidar data`{.language-plaintext .highlighter-rouge}
subset.

[ Download Spatial Lidar Teaching Data Subset
data](https://ndownloader.figshare.com/files/12459464){.btn
.btn--success .btn--x-large proofer-ignore=""}

or using the `earthpy`{.language-plaintext .highlighter-rouge} package:
`et.data.get_data("spatial-vector-lidar")`{.language-plaintext
.highlighter-rouge}
:::

## Understand Uncertainty and Error

It is important to consider error and uncertainty when presenting
scientific results. Most measurements that we make - be they from
instruments or humans - have uncertainty associated with them. We will
discuss what that means, below.

## Uncertainty

**Uncertainty:** Uncertainty quantifies the range of values within which
the value of the measure falls within - within a specified level of
confidence. The uncertainty quantitatively indicates the "quality" of
your measurement. It answers the question: "how well does the result
represent the value of the quantity being measured?"

### Tree Height Measurement Example

So for example let's pretend that we measured the height of a tree 10
times. Each time our tree height measurement may be slightly different?
Why? Because maybe each time we visually determined the top of the tree
to be in a slightly different place. Or maybe there was wind that day
during measurements that caused the tree to shift as we measured it
yielding a slightly different height each time. or... what other reasons
can you think of that might impact tree height measurements?

<figure>
<a
href="./Compare%20Lidar%20With%20Human%20Measured%20Tree%20Heights%20-%20Remote%20Sensing%20Uncertainty%20_%20Earth%20Data%20Science%20-%20Earth%20Lab_files/measuring-tree-height.jpg"
class="image-popup"><img
src="./Compare%20Lidar%20With%20Human%20Measured%20Tree%20Heights%20-%20Remote%20Sensing%20Uncertainty%20_%20Earth%20Data%20Science%20-%20Earth%20Lab_files/measuring-tree-height.jpg"
alt="When we measure tree height by hand, many different variables may impact the accuracy and precision of our results." /></a>
<figcaption>When we measure tree height by hand, many different
variables may impact the accuracy and precision of our results. Source:
<a href="http://www.haddenham.net/newsroom/guess-tree-height.html"
class="vglnk"
rel="nofollow"><span>http</span><span>://</span><span>www</span><span>.</span><span>haddenham</span><span>.</span><span>net</span><span>/</span><span>newsroom</span><span>/</span><span>guess</span><span>-</span><span>tree</span><span>-</span><span>height</span><span>.</span><span>html</span></a></figcaption>
</figure>

## What is the True Value?

So you may be wondering, what is the true height of our tree? In the
case of a tree in a forest, it's very difficult to determine the true
height. So we accept that there will be some variation in our
measurements and we measure the tree over and over again until we
understand the range of heights that we are likely to get when we
measure the tree.

::: {.language-plaintext .output .highlighter-rouge}
::: highlight
``` highlight
/opt/conda/envs/EDS/lib/python3.8/site-packages/rasterio/plot.py:263: SyntaxWarning: "is" with a literal. Did you mean "=="?
  if len(arr.shape) is 2:
```
:::
:::

<figure class="output display_data">
<img
src="./Compare%20Lidar%20With%20Human%20Measured%20Tree%20Heights%20-%20Remote%20Sensing%20Uncertainty%20_%20Earth%20Data%20Science%20-%20Earth%20Lab_files/2016-12-06-uncertainty01-understand-uncertainty_3_0.png"
alt="Boxplot showing an example distribution of a set of measurements. If 10 people measured the same tree to get height, they all might have slightly different answers." />
<figcaption aria-hidden="true">Boxplot showing an example distribution
of a set of measurements. If 10 people measured the same tree to get
height, they all might have slightly different answers.</figcaption>
</figure>

In the example above, the mean tree height value is towards the center
of the distribution of measured heights. You might expect that the
sample mean of our observations provides a reasonable estimate of the
true value. The variation among our measured values may also provide
some information about the precision (or lack thereof) of the
measurement process.

[Read more about the what a box plots tells you about
data.](http://www.physics.csbsju.edu/stats/box2.html){target="_blank"}

<figure class="output display_data">
<img
src="./Compare%20Lidar%20With%20Human%20Measured%20Tree%20Heights%20-%20Remote%20Sensing%20Uncertainty%20_%20Earth%20Data%20Science%20-%20Earth%20Lab_files/2016-12-06-uncertainty01-understand-uncertainty_5_0.png"
alt="Example histogram of tree height values." />
<figcaption aria-hidden="true">Example histogram of tree height
values.</figcaption>
</figure>

## Measurement Accuracy

Measurement **accuracy** is a concept that relates to whether there is
bias in measurements, i.e. whether the expected value of our
observations is close to the true value. For low accuracy measurements,
we may collect many observations, and the mean of those observations may
not provide a good measure of the truth (e.g., the height of the tree).
For high accuracy measurements, the mean of many observations would
provide a good measure of the true value. This is different from
**precision**, which typically refers to the variation among
observations. Accuracy and precision are not always tightly coupled. It
is possible to have measurements that are very precise but inaccurate,
very imprecise but accurate, etc.

<figure>
<a
href="./Compare%20Lidar%20With%20Human%20Measured%20Tree%20Heights%20-%20Remote%20Sensing%20Uncertainty%20_%20Earth%20Data%20Science%20-%20Earth%20Lab_files/accuracy-precision.png"
class="image-popup"><img
src="./Compare%20Lidar%20With%20Human%20Measured%20Tree%20Heights%20-%20Remote%20Sensing%20Uncertainty%20_%20Earth%20Data%20Science%20-%20Earth%20Lab_files/accuracy-precision.png"
alt="Accuracy vs precision. Accuracy quantifies how close a measured value is to the true value. Precision quantifies how close two or more measurements agree with each other (how quantitatively repeatable are the results)." /></a>
<figcaption>Accuracy vs precision. Accuracy quantifies how close a
measured value is to the true value. Precision quantifies how close two
or more measurements agree with each other (how quantitatively
repeatable are the results). Source: <a
href="http://www.ece.rochester.edu/courses/ECE111/error_uncertainty.pdf"
class="vglnk"
rel="nofollow"><span>http</span><span>://</span><span>www</span><span>.</span><span>ece</span><span>.</span><span>rochester</span><span>.</span><span>edu</span><span>/</span><span>courses</span><span>/</span><span>ECE111</span><span>/</span><span>error</span><span>_</span><span>uncertainty</span><span>.</span><span>pdf</span></a></figcaption>
</figure>

## Systematic vs random error

**Systematic Error:** a systematic error is one that tends to shift all
measurements in a systematic way. This means that the mean value of a
set of measurements is consistently displaced or varied in a predictable
way, leading to inaccurate observations. Causes of systematic errors may
be known or unknown but should always be corrected for when present. For
instance, no instrument can ever be calibrated perfectly, so when a
group of measurements systematically differ from the value of a standard
reference specimen, an adjustment in the values should be made.
Systematic error can be corrected for only when the "true value" (such
as the value assigned to a calibration or reference specimen) is known.

*Example:* Remote sensing instruments need to be calibrated. For example
a laser in a lidar system may be tested in a lab to ensure that the
distribution of output light energy is consistent every time the laser
"fires".

**Random Error:** is a component of the total error which, in the course
of a number of measurements, varies in an unpredictable way. It is not
possible to correct for random error. Random errors can occur for a
variety of reasons such as:

-   Lack of equipment sensitivity. An instrument may not be able to
    respond to or indicate a change in some quantity that is too small
    or the observer may not be able to discern the change.
-   Noise in the measurement. Noise is extraneous disturbances that are
    unpredictable or random and cannot be completely accounted for.
-   Imprecise definition. It is difficult to exactly define the
    dimensions of a object. For example, it is difficult to determine
    the ends of a crack with measuring its length. Two people may likely
    pick two different starting and ending points.

*Example:* Random error may be introduced when we measure tree heights
as discussed above.

-   [Source:
    nde-ed.org](https://www.nde-ed.org/GeneralResources/ErrorAnalysis/UncertaintyTerms.htm)

## Use Lidar to Estimate Tree Height

Lidar data can be used estimate tree height because it is an efficient
way to measure large areas of trees (forests) quantitatively. However,
you can process the lidar data in many different ways to estimate
height. Which method most closely represents the actual heights of the
trees on the ground?

<figure>
<a
href="./Compare%20Lidar%20With%20Human%20Measured%20Tree%20Heights%20-%20Remote%20Sensing%20Uncertainty%20_%20Earth%20Data%20Science%20-%20Earth%20Lab_files/scaling-trees-nat-geo.jpg"
class="image-popup"><img
src="./Compare%20Lidar%20With%20Human%20Measured%20Tree%20Heights%20-%20Remote%20Sensing%20Uncertainty%20_%20Earth%20Data%20Science%20-%20Earth%20Lab_files/scaling-trees-nat-geo.jpg"
alt="National Geographic image of a team scaling trees." /></a>
<figcaption>It can be difficult to measure the true height of trees!
Often times "seeing" the very top of the tree where it is tallest is not
possible from the ground - especially in dense, tall forests. One can
imagine the amount of uncertainty that is thus introduced when we try to
estimate the true height of trees! Image Source: National
Geographic</figcaption>
</figure>

<figure>
<a
href="./Compare%20Lidar%20With%20Human%20Measured%20Tree%20Heights%20-%20Remote%20Sensing%20Uncertainty%20_%20Earth%20Data%20Science%20-%20Earth%20Lab_files/waveform.png"
class="image-popup" target="_blank"><img
src="./Compare%20Lidar%20With%20Human%20Measured%20Tree%20Heights%20-%20Remote%20Sensing%20Uncertainty%20_%20Earth%20Data%20Science%20-%20Earth%20Lab_files/waveform.png"
alt="Example of a lidar waveform" /></a>
<figcaption>An example LiDAR waveform. Source: NEON, Boulder,
CO.</figcaption>
</figure>

<figure>
<a
href="./Compare%20Lidar%20With%20Human%20Measured%20Tree%20Heights%20-%20Remote%20Sensing%20Uncertainty%20_%20Earth%20Data%20Science%20-%20Earth%20Lab_files/treeline-scanned-lidar-points.png"
class="image-popup"><img
src="./Compare%20Lidar%20With%20Human%20Measured%20Tree%20Heights%20-%20Remote%20Sensing%20Uncertainty%20_%20Earth%20Data%20Science%20-%20Earth%20Lab_files/treeline-scanned-lidar-points.png"
alt="Example of a tree profile after a Lidar scan. Cross section showing LiDAR point cloud data (above) and the corresponding landscape profile (below)" /></a>
<figcaption>Cross section showing LiDAR point cloud data (above) and the
corresponding landscape profile (below). Graphic: Leah A.
Wasser</figcaption>
</figure>

## Study Site Location

To answer the question above, let's look at some data from a study site
location in California - the San Joaquin Experimental range field site.
You can see the field site location on the map below.

<figure class="output display_data">
<img
src="./Compare%20Lidar%20With%20Human%20Measured%20Tree%20Heights%20-%20Remote%20Sensing%20Uncertainty%20_%20Earth%20Data%20Science%20-%20Earth%20Lab_files/2016-12-06-uncertainty01-understand-uncertainty_19_0.png"
alt="Map of the SJER study site location in Southern California." />
<figcaption aria-hidden="true">Map of the SJER study site location in
Southern California.</figcaption>
</figure>

## Study Area Plots

At this study site, we have both lidar data - specifically a canopy
height model that was processed by NEON (National Ecological Observatory
Network). We also have some "ground truth" data. That is we have
measured tree height values collected at a set of field site plots by
technicians at NEON. We will call these measured values *in situ*
measurements.

A map of our study plots is below overlaid on top of the canopy height
model.

<figure class="output display_data">
<img
src="./Compare%20Lidar%20With%20Human%20Measured%20Tree%20Heights%20-%20Remote%20Sensing%20Uncertainty%20_%20Earth%20Data%20Science%20-%20Earth%20Lab_files/2016-12-06-uncertainty01-understand-uncertainty_22_0.png"
alt="SJER field site locations overlayed on top of a lidar canopy height model." />
<figcaption aria-hidden="true">SJER field site locations overlayed on
top of a lidar canopy height model.</figcaption>
</figure>

### Compare Lidar Derived Height to In Situ Measurements

We can compare maximum tree height values at each plot to the maximum
pixel value in our `CHM`{.language-plaintext .highlighter-rouge} for
each plot. To do this, we define the geographic boundary of our plot
using a polygon - in the case below we use a circle as the boundary. We
then extract the raster cell values for each circle and calculate the
max value for all of the pixels that fall within the plot area.

Then, we calculate the max height of our measured plot tree height data.

Finally we compare the two using a scatter plot to see how closely the
data relate. Do they follow a 1:1 line? Do the data diverge from a 1:1
relationship?

<figure>
<a
href="./Compare%20Lidar%20With%20Human%20Measured%20Tree%20Heights%20-%20Remote%20Sensing%20Uncertainty%20_%20Earth%20Data%20Science%20-%20Earth%20Lab_files/buffer-circular.png"
class="image-popup"><img
src="./Compare%20Lidar%20With%20Human%20Measured%20Tree%20Heights%20-%20Remote%20Sensing%20Uncertainty%20_%20Earth%20Data%20Science%20-%20Earth%20Lab_files/buffer-circular.png"
alt="Circular fuffer." /></a>
<figcaption>In Python, you can use the buffer function to specify a
circular buffer radius around an x,y point location. Then, you can use
the zonal_stats function to extract the values for all pixels in the
specified raster that fall within that circular buffer. In this case,
you can tell Python to extract the maximum value of all pixels in the
circular buffer. Source: Colin Williams, NEON</figcaption>
</figure>

<figure class="output display_data">
<img
src="./Compare%20Lidar%20With%20Human%20Measured%20Tree%20Heights%20-%20Remote%20Sensing%20Uncertainty%20_%20Earth%20Data%20Science%20-%20Earth%20Lab_files/2016-12-06-uncertainty01-understand-uncertainty_24_0.png"
alt="Scatterplot showing the relationship between lidar and measured tree height." />
<figcaption aria-hidden="true">Scatterplot showing the relationship
between lidar and measured tree height.</figcaption>
</figure>

### How different are the data?

<figure class="output display_data">
<img
src="./Compare%20Lidar%20With%20Human%20Measured%20Tree%20Heights%20-%20Remote%20Sensing%20Uncertainty%20_%20Earth%20Data%20Science%20-%20Earth%20Lab_files/2016-12-06-uncertainty01-understand-uncertainty_26_0.png"
alt="Bar plot showing the difference between lidar and measured tree height by plot. " />
<figcaption>Bar plot showing the difference between lidar and measured
tree height by plot.</figcaption>
</figure>

## View interactive scatterplot

[View scatterplot
plotly](https://plot.ly/~leahawasser/170/){target="_blank"}

## View interactive difference barplot

[View scatterplot
differences](https://plot.ly/~leahawasser/158/chm-minus-insitu-differences/){target="_blank"}

::: previous--next
[Extract Data From Raster
](https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/extract-data-from-raster/){.btn
.btn--info .btn--large .btn-success style="float:right"}
:::
:::

Tags [ [Reproducible science and
programming](https://www.earthdatascience.org/tags/reproducible-science-and-programming/):
]{.a-main-tag}
[python](https://www.earthdatascience.org/tags/reproducible-science-and-programming/python/)
[ [Remote
sensing](https://www.earthdatascience.org/tags/remote-sensing/):
]{.a-main-tag}
[lidar](https://www.earthdatascience.org/tags/remote-sensing/lidar/) [
[Spatial data and
gis](https://www.earthdatascience.org/tags/spatial-data-and-gis/):
]{.a-main-tag} [raster
data](https://www.earthdatascience.org/tags/spatial-data-and-gis/raster-data/)

** Updated:** February 02, 2021

The Intermediate earth data science textbook course is subject to the
[CC BY-SA 4.0
License](https://www.earthdatascience.org/license){target="_blank"} .
Citation DOI:
[https://doi.org/10.5281/zenodo.4683910](https://doi.org/10.5281/zenodo.4683910){target="_blank"}

::: {.section .page__share}
#### Share on {#share-on .page__share-title}

[
Twitter](https://twitter.com/intent/tweet?text=https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/ "Share on Twitter"){.btn
.btn--twitter} [
Facebook](https://www.facebook.com/sharer/sharer.php?u=https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/ "Share on Facebook"){.btn
.btn--facebook} [
Google+](https://plus.google.com/share?url=https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/ "Share on Google Plus"){.btn
.btn--google-plus} [
LinkedIn](https://www.linkedin.com/shareArticle?mini=true&url=https://www.earthdatascience.org/courses/use-data-open-source-python/spatial-data-applications/lidar-remote-sensing-uncertainty/ "Share on LinkedIn"){.btn
.btn--linkedin}\
\
[![Get a professional Certificate in Earth Data Analytics at University
of Colorado,
Boulder](./Compare%20Lidar%20With%20Human%20Measured%20Tree%20Heights%20-%20Remote%20Sensing%20Uncertainty%20_%20Earth%20Data%20Science%20-%20Earth%20Lab_files/earth-data-analytics-professional-certificate-banner.png){width="40%"}](https://earthlab.colorado.edu/earth-data-analytics-professional-graduate-certificate?utm_source=earthdatascience&utm_medium=website&utm_campaign=certificate-2022&utm_id=certificate-2022){target="_blank"}
:::
:::

::: page__comments
#### Leave a Comment {#leave-a-comment .page__comments-title}

::: {#disqus_thread .section}
:::
:::

::: page__related
#### You May Also Enjoy {#you-may-also-enjoy .page__related-title}

::: grid__wrapper
::: grid__item
[](https://www.earthdatascience.org/courses/earth-analytics-bootcamp/plot-data-python)

## Plot Data With Matplotlib {#plot-data-with-matplotlib .archive__item-title itemprop="headline"}

1 minute read

This Week
:::

::: grid__item
[](https://www.earthdatascience.org/courses/use-data-open-source-python/hierarchical-data-formats-hdf/summarize-climate-data-by-season/)

## Calculate Seasonal Summary Values from Climate Data Variables Stored in NetCDF 4 Format: Work With MACA v2 Climate Data in Python {#calculate-seasonal-summary-values-from-climate-data-variables-stored-in-netcdf-4-format-work-with-maca-v2-climate-data-in-python .archive__item-title itemprop="headline"}

26 minute read

Learn how to calculate seasonal summary values for MACA 2 climate data
using xarray and region mask in open source Python.
:::

::: grid__item
[](https://www.earthdatascience.org/courses/use-data-open-source-python/hierarchical-data-formats-hdf/subset-netcdf4-climate-data-spatially-aoi/)

## Calculate Summary Values Using Spatial Areas of Interest (AOIs) including Shapefiles for Climate Data Variables Stored in NetCDF 4 Format: Work With MACA v2 Climate Data in Python {#calculate-summary-values-using-spatial-areas-of-interest-aois-including-shapefiles-for-climate-data-variables-stored-in-netcdf-4-format-work-with-maca-v2-climate-data-in-python .archive__item-title itemprop="headline"}

32 minute read

Climate datasets stored in netcdf 4 format often cover the entire globe
or an entire country. Learn how to subset climate data spatially and by
time slices u\...
:::

::: grid__item
[](https://www.earthdatascience.org/courses/use-data-open-source-python/hierarchical-data-formats-hdf/use-netcdf-in-python-xarray/)

## How to Open and Process NetCDF 4 Data Format in Open Source Python {#how-to-open-and-process-netcdf-4-data-format-in-open-source-python .archive__item-title itemprop="headline"}

26 minute read

Historic and projected climate data are most often stored in netcdf 4
format. Learn how to open and process MACA version 2 climate data for
the Continental U\...
:::
:::
:::
:::

::: page__footer
::: page__footer-follow
-   **© 2022 Earth Lab - [All materials on this site are subject to the
    CC BY-SA 4.0 License.](https://www.earthdatascience.org/license)**

```{=html}
<!-- -->
```
-   **Follow:**
-   [ Twitter](https://twitter.com/earthlabcu)
-   [ GitHub](http://github.com/earthlab)
-   [ Feed](https://www.earthdatascience.org/feed.xml)
:::
:::

Please enable JavaScript to view the [comments powered by
Disqus.](http://disqus.com/?ref_noscript)
